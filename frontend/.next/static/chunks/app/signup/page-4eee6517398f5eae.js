(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{7031:function(e,r,a){Promise.resolve().then(a.bind(a,5816))},5816:function(e,r,a){"use strict";a.r(r);var t=a(7437),s=a(2265),n=a(4033),o=a(1396),l=a.n(o),i=a(2247),d=a(4977),c=a(1844),u=a(9843);r.default=()=>{let[e,r]=(0,s.useState)({name:"",email:"",password:"",confirmPassword:""}),[a,o]=(0,s.useState)(!1),[m,h]=(0,s.useState)(""),p=(0,n.useRouter)();(0,s.useEffect)(()=>{localStorage.getItem("token")&&p.push("/dashboard")},[p]);let handleChange=a=>{r({...e,[a.target.name]:a.target.value})},handleSubmit=async r=>{if(r.preventDefault(),o(!0),h(""),e.password!==e.confirmPassword){h("Passwords do not match"),o(!1);return}try{let r=await u.Z.post("/api/auth/register",{name:e.name,email:e.email,password:e.password});localStorage.setItem("token",r.data.token),p.push("/dashboard")}catch(e){var a,t;h((null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)||"An error occurred")}finally{o(!1)}};return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)(c.Z,{className:"max-w-md w-full",children:[(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Create a new account"})}),(0,t.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:handleSubmit,children:[m&&(0,t.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:(0,t.jsx)("span",{className:"block sm:inline",children:m})}),(0,t.jsx)(d.Z,{label:"Name",id:"name",name:"name",type:"text",placeholder:"Enter your name",value:e.name,onChange:handleChange,required:!0}),(0,t.jsx)(d.Z,{label:"Email Address",id:"email",name:"email",type:"email",placeholder:"Enter your email",value:e.email,onChange:handleChange,required:!0}),(0,t.jsx)(d.Z,{label:"Password",id:"password",name:"password",type:"password",placeholder:"Enter your password",value:e.password,onChange:handleChange,required:!0}),(0,t.jsx)(d.Z,{label:"Confirm Password",id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Confirm your password",value:e.confirmPassword,onChange:handleChange,required:!0}),(0,t.jsx)("div",{children:(0,t.jsx)(i.Z,{type:"submit",variant:"primary",className:"w-full",disabled:a,children:a?"Creating account...":"Sign up"})})]}),(0,t.jsx)("div",{className:"mt-4 text-center",children:(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,t.jsx)(l(),{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})})]})})}},2247:function(e,r,a){"use strict";var t=a(7437);a(2265),r.Z=e=>{let{children:r,onClick:a,type:s="button",variant:n="primary",className:o="",disabled:l=!1}=e;return(0,t.jsx)("button",{type:s,className:"px-4 py-2 rounded-md font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 "+({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"})[n]+" "+o+" "+(l?"opacity-50 cursor-not-allowed":""),onClick:a,disabled:l,children:r})}},1844:function(e,r,a){"use strict";var t=a(7437);a(2265),r.Z=e=>{let{children:r,className:a=""}=e;return(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 "+a,children:r})}},4977:function(e,r,a){"use strict";var t=a(7437);a(2265),r.Z=e=>{let{label:r,id:a,name:s,type:n="text",placeholder:o,value:l,onChange:i,required:d=!1,error:c,className:u=""}=e;return(0,t.jsxs)("div",{className:"mb-4",children:[r&&(0,t.jsx)("label",{htmlFor:a,className:"block text-sm font-medium text-gray-700 mb-1",children:r}),(0,t.jsx)("input",{id:a,name:s,type:n,placeholder:o,value:l,onChange:i,required:d,className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 ".concat(c?"border-red-500":"border-gray-300"," ").concat(u)}),c&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c})]})}},9843:function(e,r,a){"use strict";var t=a(4829);let s=t.Z.create({baseURL:"http://localhost:5000",headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{let r=localStorage.getItem("token");return r&&(e.headers.Authorization="Bearer "+r),e},e=>Promise.reject(e)),s.interceptors.response.use(e=>e,e=>{var r;return(null===(r=e.response)||void 0===r?void 0:r.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)}),r.Z=s}},function(e){e.O(0,[600,396,971,472,744],function(){return e(e.s=7031)}),_N_E=e.O()}]);