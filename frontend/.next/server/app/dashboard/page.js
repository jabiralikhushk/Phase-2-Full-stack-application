(()=>{var e={};e.id=702,e.ids=[702],e.modules={6226:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},6771:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>l});var r=s(7096),a=s(6132),o=s(7284),i=s.n(o),d=s(2564),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);s.d(t,n);let l=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1618)),"C:\\Users\\DELL\\Desktop\\New folder (2)\\todo-app\\my-bonsai-app\\frontend\\app\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5345)),"C:\\Users\\DELL\\Desktop\\New folder (2)\\todo-app\\my-bonsai-app\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\DELL\\Desktop\\New folder (2)\\todo-app\\my-bonsai-app\\frontend\\app\\dashboard\\page.tsx"],p="/dashboard/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},8568:(e,t,s)=>{Promise.resolve().then(s.bind(s,8661))},8661:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var r=s(784),a=s(9885),o=s(7114),i=s(5217),d=s(90),n=s(7971),l=s(9576);let __WEBPACK_DEFAULT_EXPORT__=()=>{let[e,t]=(0,a.useState)([]),[s,c]=(0,a.useState)({title:"",description:""}),[p,x]=(0,a.useState)(!0),[u,m]=(0,a.useState)(""),h=(0,o.useRouter)();(0,a.useEffect)(()=>{let e=localStorage.getItem("token");if(!e){h.push("/login");return}fetchTodos()},[h]);let fetchTodos=async()=>{try{let e=await l.Z.get("/api/todos");t(e.data)}catch(e){m(e.response?.data?.message||"Failed to fetch todos")}finally{x(!1)}},handleInputChange=e=>{let{name:t,value:s}=e.target;c(e=>({...e,[t]:s}))},handleAddTodo=async r=>{if(r.preventDefault(),s.title.trim())try{let r=await l.Z.post("/api/todos",s);t([r.data,...e]),c({title:"",description:""})}catch(e){m(e.response?.data?.message||"Failed to add todo")}},toggleTodo=async s=>{try{let r=e.find(e=>e._id===s);if(!r)return;let a=await l.Z.put("/api/todos/"+s,{completed:!r.completed});t(e.map(e=>e._id===s?a.data:e))}catch(e){m(e.response?.data?.message||"Failed to update todo")}},deleteTodo=async s=>{if(window.confirm("Are you sure you want to delete this todo?"))try{await l.Z.delete("/api/todos/"+s),t(e.filter(e=>e._id!==s))}catch(e){m(e.response?.data?.message||"Failed to delete todo")}};return p?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"text-xl",children:"Loading..."})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8 flex justify-between items-center",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Bonsai App"}),r.jsx(i.Z,{variant:"secondary",onClick:()=>{localStorage.removeItem("token"),h.push("/login")},children:"Logout"})]})}),(0,r.jsxs)("main",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:[u&&r.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:r.jsx("span",{className:"block sm:inline",children:u})}),(0,r.jsxs)(n.Z,{className:"mb-8",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Add New Todo"}),(0,r.jsxs)("form",{onSubmit:handleAddTodo,className:"space-y-4",children:[r.jsx(d.Z,{label:"Title",id:"title",name:"title",type:"text",placeholder:"What needs to be done?",value:s.title,onChange:handleInputChange,required:!0}),(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{id:"description",name:"description",placeholder:"Add details...",value:s.description,onChange:handleInputChange,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),r.jsx(i.Z,{type:"submit",variant:"primary",children:"Add Todo"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold mb-4",children:["Your Todos (",e.length,")"]}),0===e.length?r.jsx("p",{className:"text-gray-500",children:"No todos yet. Add one above!"}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>r.jsx(n.Z,{className:e.completed?"bg-green-50":"",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-medium "+(e.completed?"line-through text-gray-500":"text-gray-900"),children:e.title}),e.description&&r.jsx("p",{className:"mt-1 text-sm "+(e.completed?"line-through text-gray-500":"text-gray-600"),children:e.description}),(0,r.jsxs)("p",{className:"mt-2 text-xs text-gray-500",children:["Created: ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[r.jsx(i.Z,{variant:e.completed?"secondary":"primary",onClick:()=>toggleTodo(e._id),className:"text-xs",children:e.completed?"Undo":"Complete"}),r.jsx(i.Z,{variant:"danger",onClick:()=>deleteTodo(e._id),className:"text-xs",children:"Delete"})]})]})},e._id))})]})]})]})}},1618:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>o,default:()=>n});var r=s(5153);let a=(0,r.createProxy)(String.raw`C:\Users\DELL\Desktop\New folder (2)\todo-app\my-bonsai-app\frontend\app\dashboard\page.tsx`),{__esModule:o,$$typeof:i}=a,d=a.default,n=d}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[472,721,565,872,585],()=>__webpack_exec__(6771));module.exports=s})();