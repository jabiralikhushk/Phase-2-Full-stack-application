(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{3481:function(e,t,r){Promise.resolve().then(r.bind(r,8123))},8123:function(e,t,r){"use strict";r.r(t);var a=r(7437),s=r(2265),n=r(4033),l=r(1396),o=r.n(l),i=r(2247),d=r(4977),c=r(1844),u=r(9843);t.default=()=>{let[e,t]=(0,s.useState)({email:"",password:""}),[r,l]=(0,s.useState)(!1),[m,h]=(0,s.useState)(""),p=(0,n.useRouter)();(0,s.useEffect)(()=>{localStorage.getItem("token")&&p.push("/dashboard")},[p]);let handleChange=r=>{t({...e,[r.target.name]:r.target.value})},handleSubmit=async t=>{t.preventDefault(),l(!0),h("");try{let t=await u.Z.post("/api/auth/login",e);localStorage.setItem("token",t.data.token),p.push("/dashboard")}catch(e){var r,a;h((null===(a=e.response)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.message)||"An error occurred")}finally{l(!1)}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)(c.Z,{className:"max-w-md w-full",children:[(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})}),(0,a.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:handleSubmit,children:[m&&(0,a.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:(0,a.jsx)("span",{className:"block sm:inline",children:m})}),(0,a.jsx)(d.Z,{label:"Email Address",id:"email",name:"email",type:"email",placeholder:"Enter your email",value:e.email,onChange:handleChange,required:!0}),(0,a.jsx)(d.Z,{label:"Password",id:"password",name:"password",type:"password",placeholder:"Enter your password",value:e.password,onChange:handleChange,required:!0}),(0,a.jsx)("div",{children:(0,a.jsx)(i.Z,{type:"submit",variant:"primary",className:"w-full",disabled:r,children:r?"Signing in...":"Sign in"})})]}),(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",(0,a.jsx)(o(),{href:"/signup",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign up"})]})})]})})}},2247:function(e,t,r){"use strict";var a=r(7437);r(2265),t.Z=e=>{let{children:t,onClick:r,type:s="button",variant:n="primary",className:l="",disabled:o=!1}=e;return(0,a.jsx)("button",{type:s,className:"px-4 py-2 rounded-md font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 "+({primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"})[n]+" "+l+" "+(o?"opacity-50 cursor-not-allowed":""),onClick:r,disabled:o,children:t})}},1844:function(e,t,r){"use strict";var a=r(7437);r(2265),t.Z=e=>{let{children:t,className:r=""}=e;return(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 "+r,children:t})}},4977:function(e,t,r){"use strict";var a=r(7437);r(2265),t.Z=e=>{let{label:t,id:r,name:s,type:n="text",placeholder:l,value:o,onChange:i,required:d=!1,error:c,className:u=""}=e;return(0,a.jsxs)("div",{className:"mb-4",children:[t&&(0,a.jsx)("label",{htmlFor:r,className:"block text-sm font-medium text-gray-700 mb-1",children:t}),(0,a.jsx)("input",{id:r,name:s,type:n,placeholder:l,value:o,onChange:i,required:d,className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 ".concat(c?"border-red-500":"border-gray-300"," ").concat(u)}),c&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c})]})}},9843:function(e,t,r){"use strict";var a=r(4829);let s=a.Z.create({baseURL:"http://localhost:5000",headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer "+t),e},e=>Promise.reject(e)),s.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)}),t.Z=s}},function(e){e.O(0,[600,396,971,472,744],function(){return e(e.s=3481)}),_N_E=e.O()}]);